(function(f){"use strict";f(document).ready(function(){setTimeout(function(){f(document).trigger("viwcaio_sidebar_cart_init")},100);f(document.body).on("wc_fragments_loaded",function(){if(f(".vi-wcaio-sidebar-cart-icon-wrap.vi-wcaio-disabled").length){p(true)}})});f(document).on("viwcaio_sidebar_cart_init",function(){if(!f(".vi-wcaio-sidebar-cart-wrap").length){setTimeout(function(){f(document).trigger("viwcaio_sidebar_cart_init")},100);return false}if(f(".vi-wcaio-sidebar-cart-wrap:not(.vi-wcaio-sidebar-cart-wrap-init)").length){f(".vi-wcaio-sidebar-cart-wrap:not(.vi-wcaio-sidebar-cart-wrap-init)").addClass("vi-wcaio-sidebar-cart-wrap-init");a()}});f(window).on("resize",function(){_(f(".vi-wcaio-sidebar-cart-content-wrap"))});function a(){f(document).on("mouseenter",".vi-wcaio-sidebar-cart-icon-wrap",function(){if(f(this).hasClass("vi-wcaio-sidebar-cart-icon-wrap-click")){f(this).removeClass("vi-wcaio-sidebar-cart-icon-wrap-mouseleave").addClass("vi-wcaio-sidebar-cart-icon-wrap-mouseenter")}else{t("show")}}).on("mouseleave",".vi-wcaio-sidebar-cart-icon-wrap",function(){if(f(this).hasClass("vi-wcaio-sidebar-cart-icon-wrap-mouseenter")){f(this).removeClass("vi-wcaio-sidebar-cart-icon-wrap-mouseenter").addClass("vi-wcaio-sidebar-cart-icon-wrap-mouseleave")}}).on("click",".vi-wcaio-sidebar-cart-icon-wrap",function(){if(f(this).hasClass("vi-wcaio-sidebar-cart-icon-wrap-click")){t("show")}});f(document).on("click",".vi-wcaio-sidebar-cart-overlay, .vi-wcaio-sidebar-cart-close-wrap",function(){if(!f(this).hasClass("vi-wcaio-not-hidden")){t("hide")}});f(document).on("click",".vi-wcaio-sidebar-cart-bt-nav-checkout",function(a){if(typeof viwcaio_sc_checkout_params==="undefined"&&f("#place_order").length){a.preventDefault();a.stopPropagation();t("hide");window.scrollTo({top:f("#place_order").closest("form").offset().top-50})}});f(document).on("click keydown",".vi-wcaio-sidebar-cart-wrap.vi-wcaio-sidebar-cart-wrap-warning",function(){r()});f(".vi-wcaio-sidebar-cart-footer-pd-wrap-wrap:not(.vi-wcaio-disabled):not(.vi-wcaio-slide-init)").each(function(){n(f(this))});if(typeof viwcaio_sc_params==="undefined"){return false}if(viwcaio_sc_params.sc_content_class_open){f(document).on("click",viwcaio_sc_params.sc_content_class_open,function(a){a.preventDefault();a.stopPropagation();a.stopImmediatePropagation();t("show")})}f(document).on("click",".vi-wcaio-sidebar-cart-wrap .vi-wcaio-sidebar-cart",function(){if(viwcaio_sc_params.close_sidebar){clearTimeout(viwcaio_sc_params.close_sidebar)}});i();const a=new URLSearchParams(window.location.search);if(a.get("viwcaio_cart_sidebar_open")){t("show")}}function i(){e(viwcaio_sc_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_get_cart_fragments"),{viwcaio_get_cart_fragments:1,vicaio_nonce:viwcaio_sc_params.nonce});f(document).on("click",".vi-wcaio-sidebar-cart-content-wrap:not(.vi-wcaio-sidebar-cart-content-wrap-checkout) .woocommerce-remove-coupon",function(a){a.preventDefault();a.stopPropagation();let i=f(this);let e={vi_wcaio_coupon_code:i.data("coupon")||"",vicaio_nonce:viwcaio_sc_params.nonce};f.ajax({type:"POST",url:viwcaio_sc_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_remove_coupon"),data:e,beforeSend:function(){f(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-loading-wrap").removeClass("vi-wcaio-disabled")},success:function(a){if(!a&&i.attr("href")){window.location.href=i.attr("href");return false}if(a.message){o(a.message)}f(document.body).trigger("viwcaio_removed_coupon",[e.vi_wcaio_coupon_code]);if(a.status&&a.status==="success"){f(document).trigger("viwcaio_fragment_refresh")}else{wrap.find(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled")}},error:function(a){console.log(a.responseText)}})});f(document.body).on("click",".vi-wcaio-sidebar-cart-wrap .vi-wcaio-bt-coupon-code",function(a){a.preventDefault();a.stopPropagation();if(viwcaio_sc_params.close_sidebar){clearTimeout(viwcaio_sc_params.close_sidebar)}let i=f(this);let e=i.closest(".vi-wcaio-sidebar-cart-wrap");let c={vi_wcaio_coupon_code:e.find(".vi-wcaio-coupon-code").val()||"",vicaio_nonce:viwcaio_sc_params.nonce};f.ajax({url:viwcaio_sc_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_apply_coupon"),type:"POST",data:c,beforeSend:function(){e.find(" .vi-wcaio-sidebar-cart-loading-wrap").removeClass("vi-wcaio-disabled")},success:function(a){if(!a){window.location.reload();return false}if(a.message){o(a.message)}if(a.status&&a.status==="success"){f(document).trigger("viwcaio_fragment_refresh");if(e.find(".vi-wcaio-sidebar-cart-checkout-wrap").length&&!e.find(".vi-wcaio-sidebar-cart-checkout-wrap").hasClass("vi-wcaio-disabled")){f(document.body).trigger("update_checkout")}f(".vi-wcaio-sidebar-cart-footer-products:has(.vi-wcaio-sidebar-cart-footer-coupons), .vi-wcaio-sidebar-cart-footer-coupons").removeClass("vi-wcaio-disabled")}else{e.find(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled")}},error:function(){e.find(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled")}})});f(document.body).on("vartable_global_add_finished",function(a){if(f(".vi-wcaio-sidebar-cart-content-open").length){return true}let i=f(".vi-wcaio-sidebar-cart-wrap");let e=i.data("effect_after_atc"),c=i.data("fly_to_cart");if(i.find(".vi-wcaio-sidebar-cart.vi-wcaio-disabled").length){s(i,true,true);i.find(".vi-wcaio-sidebar-cart").removeClass("vi-wcaio-disabled")}else if(f(".vi-wcaio-sidebar-cart-icon-wrap.vi-wcaio-sidebar-cart-icon-wrap-close").length){s(i,true,true);i=f(".vi-wcaio-sidebar-cart-wrap")}if(!e&&!c){return true}if(e==="open"){i.addClass("vi-wcaio-sidebar-cart-wrap-open-atc")}});f(document.body).on("added_to_cart",function(a,i,e,c){if(f(".vi-wcaio-sidebar-cart-content-open").length){if(typeof viwcaio_checkout!=="undefined"&&f(".vi-wcaio-sidebar-cart-products-wrap .vi-wcaio-sidebar-cart-checkout-wrap").length){if(f(".vi-wcaio-sidebar-cart-checkout-wrap-empty").length||f(".vi-wcaio-sidebar-cart-checkout-wrap-refresh").length||!f(".vi-wcaio-sidebar-cart-products-wrap .vi-wcaio-sidebar-cart-checkout-wrap .vi-wcaio-checkout-step").length){let a={viwcaio_get_checkout:1,viwcaio_language:viwcaio_checkout.language,vicaio_nonce:viwcaio_checkout.nonce};viwcaio_checkout.$wrap.trigger("init_checkout_form",[a,viwcaio_checkout.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_get_checkout_form")])}else{f(document.body).trigger("update_checkout")}f(".vi-wcaio-sidebar-cart-wrap .vi-wcaio-sidebar-cart-bt-checkout-place_order").removeClass("vi-wcaio-disabled vi-wcaio-bt-disabled")}else if(f(".vi-wcaio-sidebar-cart-checkout-wrap").length&&!f(".vi-wcaio-sidebar-cart-checkout-wrap").hasClass("vi-wcaio-disabled")){f(document.body).trigger("update_checkout")}}else if(f(".vi-wcaio-sidebar-cart-products-wrap .vi-wcaio-sidebar-cart-checkout-wrap").length){f(".vi-wcaio-sidebar-cart-products-wrap .vi-wcaio-sidebar-cart-checkout-wrap").addClass("vi-wcaio-sidebar-cart-checkout-wrap-update")}if(c.hasClass("vi-wcaio-pd_plus-product-bt-atc")||c.closest(".viwcuf-checkout-funnel-container-popup-init").length||f(".vi-wcaio-sidebar-cart-content-open").length){return false}if(!c.hasClass("vi-wcaio-product-bt-atc-loading")&&typeof wc_cart_fragments_params==="undefined"){f(document).trigger("viwcaio_after_update_cart",[{fragments:i,cart_hash:e},true])}let l=f(".vi-wcaio-sidebar-cart-wrap");let v=l.data("effect_after_atc"),t=l.data("fly_to_cart");if(l.find(".vi-wcaio-sidebar-cart.vi-wcaio-disabled").length){s(l,true,true);l.find(".vi-wcaio-sidebar-cart").removeClass("vi-wcaio-disabled")}else if(f(".vi-wcaio-sidebar-cart-icon-wrap.vi-wcaio-sidebar-cart-icon-wrap-close").length){s(l,true,true);l=f(".vi-wcaio-sidebar-cart-wrap")}if(!v&&!t){return false}if(f(".vi-wcaio-sb-container-popup-show").length){if(v==="open"){f(document.body).trigger("viwcaio_sc_effect_after_atc",[v])}return false}if(t){let d=u(c),w=f(".vi-wcaio-sidebar-cart-icon-wrap");if(f(d).length&&w.length){d=f(d);let a,i,e,c,t,o,r=w.offset().top||l.offset().top,s=w.offset().left||l.offset().left;if(d.closest(".elementor-widget-wrap").length&&!d.closest(".product").length&&!d.closest(".elementor-widget-wrap").find(".product").length){i=d.closest(".elementor-widget-wrap")}else{if(d.closest(".woocommerce-product-gallery__wrapper").length){a=d.closest(".woocommerce-product-gallery__wrapper")}else if(d.closest(".woocommerce-product-gallery__image").length){a=d.closest(".woocommerce-product-gallery__image")}if(a&&a.length){if(a.find(".flex-active-slide").length){i=a.find(".flex-active-slide")}else if(a.find(".slick-active").length){i=a.find(".slick-active")}else if(a.find(".active").length){i=a.find(".active")}else if(a.find(".swiper-slide-active").length){i=a.find(".swiper-slide-active")}}if(!i||!f(i).length){i=d}if(i.find("img").length){i=i.find("img").first()}}e=i.offset().top;c=i.offset().left;t=i.width();o=i.height();f(".vi-wcaio-img-flying").remove();f("body").append('<div class="vi-wcaio-img-flying"></div>');let n=f("div.vi-wcaio-img-flying");d.clone().appendTo(n);n.css({top:e+"px",left:c+"px",width:t+"px",height:o+"px"}).fadeIn("slow");n.animate({width:t*.6+"px",height:o*.6+"px",top:"+="+o*.2+"px",left:"+="+t*.2+"px"},400,"swing",function(){n.animate({top:r+"px",left:s+"px",height:"18px",width:"25px"},800,"swing",function(){f("div.vi-wcaio-img-flying").fadeIn("fast",function(){f("div.vi-wcaio-img-flying").remove()});f(document.body).trigger("viwcaio_sc_effect_after_atc",[v])})})}else{f(document.body).trigger("viwcaio_sc_effect_after_atc",[v])}}else{f(document.body).trigger("viwcaio_sc_effect_after_atc",[v])}});f(document.body).on("viwcaio_sc_effect_after_atc",function(a,i){switch(i){case"open":t("show");break;case"shake_horizontal":f(".vi-wcaio-sidebar-cart-icon-wrap").removeClass("vi-wcaio-sidebar-cart-icon-wrap-mouseleave vi-wcaio-sidebar-cart-icon-wrap-open").addClass("vi-wcaio-sidebar-cart-icon-wrap-effect-shake_horizontal");setTimeout(function(){f(".vi-wcaio-sidebar-cart-icon-wrap").removeClass("vi-wcaio-sidebar-cart-icon-wrap-effect-shake_horizontal")},1100);break;case"shake_vertical":f(".vi-wcaio-sidebar-cart-icon-wrap").removeClass("vi-wcaio-sidebar-cart-icon-wrap-mouseleave vi-wcaio-sidebar-cart-icon-wrap-open").addClass("vi-wcaio-sidebar-cart-icon-wrap-effect-shake_vertical");setTimeout(function(){f(".vi-wcaio-sidebar-cart-icon-wrap").removeClass("vi-wcaio-sidebar-cart-icon-wrap-effect-shake_vertical")},1100);break}});f(document.body).on("click",".vi-wcaio-sidebar-cart-pd-remove-wrap a.vi-wcaio-sidebar-cart-pd-remove",function(a){a.preventDefault();a.stopPropagation();if(viwcaio_sc_params.close_sidebar){clearTimeout(viwcaio_sc_params.close_sidebar)}let i=f(this);let e=i.closest(".vi-wcaio-sidebar-cart-wrap"),c={cart_item_key:i.data("cart_item_key"),vicaio_nonce:viwcaio_sc_params.nonce};f(document).trigger("viwcaio_before_remove_from_cart",[i]);f.ajax({url:viwcaio_sc_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_remove_item"),type:"POST",data:c,beforeSend:function(){e.find(" .vi-wcaio-sidebar-cart-loading-wrap").removeClass("vi-wcaio-disabled")},success:function(a){if(!a||a.error){window.location.reload();return false}e.addClass("vi-wcaio-sidebar-cart-wrap-updated");f(document.body).trigger("removed_from_cart",[a.fragments,a.cart_hash,i]);if(viwcaio_sc_params.is_wpo_active){f(document).trigger("viwcaio_fragment_refresh",viwcaio_sc_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_get_cart_fragments"),{viwcaio_get_cart_fragments:1,vicaio_nonce:viwcaio_sc_params.nonce})}else{f(document).trigger("viwcaio_after_update_cart",[a])}},error:function(){e.find(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled")}})});f(document.body).on("click",".vi-wcaio-sidebar-cart-pd-wrap .vi_wcaio_change_qty",function(a){a.preventDefault();a.stopPropagation();if(viwcaio_sc_params.close_sidebar){clearTimeout(viwcaio_sc_params.close_sidebar)}let i=f(this).closest(".vi-wcaio-sidebar-cart-pd-quantity").find(".vi_wcaio_qty");let e=parseFloat(i.val()),c=parseFloat(i.attr("step")),t=parseFloat(i.attr("min")),o=parseFloat(i.attr("max"));if(f(this).hasClass("vi_wcaio_plus")){if(o===e){return false}e+=c}else{if(t===e){return false}e-=c}i.val(e).trigger("change")});f(document.body).on("change",".vi-wcaio-sidebar-cart-pd-wrap input.vi_wcaio_qty",function(a){a.preventDefault();a.stopPropagation();if(viwcaio_sc_params.close_sidebar){clearTimeout(viwcaio_sc_params.close_sidebar)}let i=parseFloat(f(this).prop("defaultValue")),e=parseFloat(f(this).val()),c=parseFloat(f(this).attr("min")),t=parseFloat(f(this).attr("max"));if(isNaN(e)){e=i}if(c>e){e=c}if(e>t){e=t}f(this).val(e);f(this).removeClass("vi_wcaio_qty_update");if(e!==i){if(viwcaio_sc_params.update_cart_when_changing_pd_qty){f(this).addClass("vi_wcaio_qty_update").closest(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-bt-update").trigger("click")}else{f(this).addClass("vi_wcaio_qty_update").closest(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-bt-update").removeClass("vi-wcaio-disabled")}}if(!f(".vi-wcaio-sidebar-cart-pd-wrap .vi_wcaio_qty_update").length){f(this).closest(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-bt-update").addClass("vi-wcaio-disabled")}});f(document.body).on("click",".vi-wcaio-sidebar-cart-wrap .vi-wcaio-sidebar-cart-bt-update",function(a){a.preventDefault();a.stopPropagation();let i=f(this);let e=i.closest(".vi-wcaio-sidebar-cart-wrap"),c;if(e.find(".vi_wcaio_qty_update").length){c=e.find(".vi-wcaio-sidebar-cart-products input.vi_wcaio_qty_update").serialize()}else{c=e.find(".vi-wcaio-sidebar-cart-products input").serialize()}if(c.search("vicaio_nonce")===-1){c+="&vicaio_nonce="+viwcaio_sc_params.nonce}f(document).trigger("viwcaio_before_update_cart");f.ajax({url:viwcaio_sc_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_change_quantity"),type:"POST",data:c,beforeSend:function(){e.find(".vi-wcaio-sidebar-cart-loading-wrap").removeClass("vi-wcaio-disabled")},success:function(a){if(!a||a.error){window.location.reload();return false}i.addClass("vi-wcaio-disabled");if(viwcaio_sc_params.is_wpo_active){f(document).trigger("viwcaio_fragment_refresh",viwcaio_sc_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_get_cart_fragments"),{viwcaio_get_cart_fragments:1,vicaio_nonce:viwcaio_sc_params.nonce})}else{f(document).trigger("viwcaio_after_update_cart",[a])}},error:function(){e.find(".vi_wcaio_qty_update").removeClass("vi_wcaio_qty_update");e.find(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled")}})});if(f(".vi-wcaio-sidebar-cart-wrap").data("effect_after_atc")==="open"&&(viwcaio_sc_params.added_to_cart||location.search.indexOf("add-to-cart=")>-1)){setTimeout(function(){t("show")},100)}}function c(){let a=f(".vi-wcaio-sidebar-cart-content-wrap").data("option")||{},e=false;if(Object.keys(a).length&&f(".vi-wcaio-sidebar-cart-wrap .vi-wcaio-sidebar-cart-pd-wrap").length){f.each(a,function(a,i){switch(a){case"sc_footer_cart_total":if(!f(".vi-wcaio-sidebar-cart-footer-cart_total1-"+i).length){e++}break;case"sc_pd_price_style":if(!f(".vi-wcaio-sidebar-cart-pd-price-"+i).length){e++}break;case"sc_footer_coupon":if(!i){f(".vi-wcaio-sidebar-cart-footer-coupons").parent().addClass("vi-wcaio-disabled")}break}})}return e}function e(i,e){f(document).on("viwcaio_fragment_refresh",function(a,i="",e=""){if(typeof viwcaio_sc_params!=="undefined"){if(!i){i=viwcaio_sc_params.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_get_cart_fragments")}if(!e){e={viwcaio_get_cart_fragments:1,vicaio_nonce:viwcaio_sc_params.nonce}}}if(!i||!e){return false}f.ajax({url:i,type:"POST",data:e,beforeSend:function(){f(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-loading-wrap").removeClass("vi-wcaio-disabled")},success:function(a){f(document).trigger("viwcaio_after_update_cart",[a])},error:function(a){console.log(a);f(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled")},complete:function(){f(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled")}})});f(document).on("viwcaio_after_update_cart",function(a,e,c=false){f(".vi-wcaio-sidebar-cart-wrap:not(.vi-wcaio-sidebar-cart-wrap-fragments-load)").addClass("vi-wcaio-sidebar-cart-wrap-fragments-load");let t=e.fragments?e.fragments:e;if(t&&"sessionStorage"in window&&window.sessionStorage!==null&&typeof viwcaio_sc_params!=="undefined"){let a=viwcaio_sc_params.fragment_name,i=viwcaio_sc_params.cart_hash_key;sessionStorage.setItem(a,JSON.stringify(t));localStorage.setItem(i,e.cart_hash);sessionStorage.setItem(i,e.cart_hash);if(e.cart_hash){sessionStorage.setItem("wc_cart_created",(new Date).getTime())}if(c){return false}}if(!t||!Object.keys(t).length){f(document.body).trigger("wc_fragments_ajax_error");return false}f.each(t,function(a,i){f(a).replaceWith(i);if(a===".vi-wcaio-sidebar-cart-products"&&i.includes("vi-wcaio-sidebar-cart-pd-empty")){f(".vi-wcaio-sidebar-cart .vi-wcaio-sidebar-cart-checkout-wrap").addClass("vi-wcaio-sidebar-cart-checkout-wrap-empty").find(".vi-wcaio-checkout-step-wrap").addClass("vi-wcaio-disabled")}});if(typeof wc_cart_params!=="undefined"){if(f('[name="update_cart"]').length&&f('[name="update_cart"]').closest("form").length){let c=f('[name="update_cart"]').closest("form"),a=f(".vi-wcaio-sidebar-cart-products"),t=0;a.find(".vi_wcaio_qty").each(function(a,i){let e=f(i).attr("name").replace("viwcaio_","");if(c.find(`input[name="${e}"]`).val()!=f(i).val()){t++;c.find(`input[name="${e}"]`).val(f(i).val()).trigger("change")}});if(t){f('[name="update_cart"]').removeAttr("disabled").trigger("click")}}else{}}else if(f(".vi-wcaio-sidebar-cart .vi-wcaio-sidebar-cart-checkout-wrap").is(":visible")||typeof wc_checkout_params!=="undefined"&&(typeof viwcaio_atc==="undefined"||!viwcaio_atc.length)&&!f(".vi-wcaio-sidebar-cart .vi-wcaio-sidebar-cart-checkout-wrap").length){f(document.body).trigger("update_checkout")}f(".vi-wcaio-sidebar-cart-wrap").addClass("vi-wcaio-sidebar-cart-wrap-updated");f(document.body).trigger("wc_fragments_refreshed")});f(document.body).on("wc_fragments_refreshed wc_fragments_ajax_error",function(){if(!f(".vi-wcaio-sidebar-cart-wrap form.woocommerce-checkout .vi-wcaio-checkout-step").length||f(".vi-wcaio-sidebar-cart-wrap .vi-wcaio-sidebar-cart-pd-empty").length){f(".vi-wcaio-sidebar-cart-wrap .vi-wcaio-sidebar-cart-bt-checkout-place_order").addClass("vi-wcaio-disabled")}else{f(".vi-wcaio-sidebar-cart-wrap .vi-wcaio-sidebar-cart-bt-checkout-place_order").removeClass("vi-wcaio-disabled vi-wcaio-bt-disabled")}if(f(".vi-wcaio-sidebar-cart-wrap-open-atc").length){f(document.body).trigger("viwcaio_sc_effect_after_atc",[f(".vi-wcaio-sidebar-cart-wrap-open-atc").removeClass("vi-wcaio-sidebar-cart-wrap-open-atc").data("effect_after_atc")]);return true}f(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled");f(".vi-wcaio-sidebar-cart-wrap").removeClass("vi-wcaio-sidebar-cart-wrap-updated");if(f(".vi-wcaio-sidebar-cart-icon-wrap.vi-wcaio-disabled").length){p(true)}else{s(f(".vi-wcaio-sidebar-cart-wrap"))}f(".vi-wcaio-sidebar-cart-footer-pd-wrap-wrap:not(.vi-wcaio-disabled):not(.vi-wcaio-slide-init)").each(function(){n(f(this))})});if(f(".vi-wcaio-sidebar-cart-wrap.vi-wcaio-sidebar-cart-wrap-init").length){if(f(".vi-wcaio-sidebar-cart-wrap:not(.vi-wcaio-sidebar-cart-wrap-fragments-load)").length){if(c()){setTimeout(function(){f(".vi-wcaio-sidebar-cart-wrap:not(.vi-wcaio-sidebar-cart-wrap-fragments-load)").addClass("vi-wcaio-sidebar-cart-wrap-fragments-load");f(document).trigger("viwcaio_fragment_refresh",[i,e])},100);return false}if(typeof wc_cart_fragments_params!=="undefined"){f(document.body).on("wc_fragments_loaded",function(){if(f(".vi-wcaio-sidebar-cart-wrap:not(.vi-wcaio-sidebar-cart-wrap-fragments-load)").length){f(".vi-wcaio-sidebar-cart-wrap:not(.vi-wcaio-sidebar-cart-wrap-fragments-load)").addClass("vi-wcaio-sidebar-cart-wrap-fragments-load");setTimeout(function(){f(document).trigger("viwcaio_fragment_refresh",[i,e])},100)}});return false}f(".vi-wcaio-sidebar-cart-wrap:not(.vi-wcaio-sidebar-cart-wrap-fragments-load)").addClass("vi-wcaio-sidebar-cart-wrap-fragments-load");let a="sessionStorage"in window&&window.sessionStorage!==null;if(!a||typeof viwcaio_sc_params==="undefined"){setTimeout(function(){f(document).trigger("viwcaio_fragment_refresh",[i,e])},100)}let t=sessionStorage.getItem(viwcaio_sc_params.cart_hash_key);f(window).on("storage onstorage",function(a){if(t===a.originalEvent.key&&localStorage.getItem(t)!==sessionStorage.getItem(t)){setTimeout(function(){f(document).trigger("viwcaio_fragment_refresh",[i,e])},100)}});try{let a=JSON.parse(sessionStorage.getItem(viwcaio_sc_params.fragment_name)),i=Cookies.get("woocommerce_cart_hash"),e=sessionStorage.getItem("wc_cart_created"),c=24*60*60*1e3;if(t===null||t===undefined||t===""){t=""}if(i===null||i===undefined||i===""){i=""}if(t&&(e===null||e===undefined||e==="")){throw"No cart_created"}if(e){var o=1*e+c,r=(new Date).getTime();if(o<r){throw"Fragment expired"}}if(a&&a["div.widget_shopping_cart_content"]&&t===i){f.each(a,function(a,i){f(a).replaceWith(i)});if(f(".vi-wcaio-sidebar-cart-icon-wrap.vi-wcaio-disabled").length){p(true)}}else{throw"No fragment"}}catch(a){console.log(a);setTimeout(function(){f(document).trigger("viwcaio_fragment_refresh",[i,e])},100)}}else{if(f(".vi-wcaio-sidebar-cart-icon-wrap.vi-wcaio-disabled").length){p(true)}f(".vi-wcaio-sidebar-cart-footer-pd-wrap-wrap:not(.vi-wcaio-disabled):not(.vi-wcaio-slide-init)").each(function(){n(f(this))})}}}function t(a="",i=""){let e=f(".vi-wcaio-sidebar-cart-content-wrap"),c=f(".vi-wcaio-sidebar-cart").data("position"),t=f(".vi-wcaio-sidebar-cart").data("effect"),o="products";if(typeof viwcaio_sc_params!=="undefined"&&viwcaio_sc_params.close_sidebar){clearTimeout(viwcaio_sc_params.close_sidebar)}if(a==="show-checkout"){a="show";o="checkout"}if(a==="show"){f(".vi-wcaio-sidebar-cart-wrap .vi-wcaio-sidebar-cart").removeClass("vi-wcaio-disabled");if(o==="products"&&typeof viwcaio_sc_params!=="undefined"&&viwcaio_sc_params.auto_close_sidebar){viwcaio_sc_params.close_sidebar=setTimeout(function(){if(f(".vi-wcaio-sidebar-cart-loading-wrap.vi-wcaio-disabled").length&&!e.find(".vi-wcaio-product-bt-atc-loading").length&&!f(".vi-wcaio-product-bt-atc-loading").length){f(".vi-wcaio-sidebar-cart-overlay").trigger("click")}},1e3*parseInt(viwcaio_sc_params.auto_close_sidebar))}if(typeof viwcaio_checkout!=="undefined"&&f(".vi-wcaio-sidebar-cart-products-wrap .vi-wcaio-sidebar-cart-checkout-wrap.vi-wcaio-sidebar-cart-checkout-wrap-update").length){if(f(".vi-wcaio-sidebar-cart-checkout-wrap-empty").length||f(".vi-wcaio-sidebar-cart-checkout-wrap-refresh").length||!f(".vi-wcaio-sidebar-cart-products-wrap .vi-wcaio-sidebar-cart-checkout-wrap .vi-wcaio-checkout-step").length){let a={viwcaio_get_checkout:1,viwcaio_language:viwcaio_checkout.language,vicaio_nonce:viwcaio_checkout.nonce};viwcaio_checkout.$wrap.trigger("init_checkout_form",[a,viwcaio_checkout.wc_ajax_url.toString().replace("%%endpoint%%","viwcaio_get_checkout_form")])}else{f(document.body).trigger("update_checkout")}f(".vi-wcaio-sidebar-cart-wrap .vi-wcaio-sidebar-cart-bt-checkout-place_order").removeClass("vi-wcaio-disabled vi-wcaio-bt-disabled");f(".vi-wcaio-sidebar-cart-products-wrap .vi-wcaio-sidebar-cart-checkout-wrap").removeClass("vi-wcaio-sidebar-cart-checkout-wrap-update")}}if(a==="show"&&e.hasClass("vi-wcaio-sidebar-cart-content-open")){e.find(".vi-wcaio-sidebar-cart-content-wrap1, .vi-wcaio-sidebar-cart-footer").addClass("vi-wcaio-disabled");e.find(".vi-wcaio-sidebar-cart-content-wrap1.vi-wcaio-sidebar-cart-"+o+"-wrap").removeClass("vi-wcaio-disabled");e.find(".vi-wcaio-sidebar-cart-footer.vi-wcaio-sidebar-cart-footer-"+o).removeClass("vi-wcaio-disabled");if(e.find(".vi-wcaio-sidebar-cart-footer-coupons").hasClass("vi-wcaio-disabled")){e.find(".vi-wcaio-sidebar-cart-footer-coupons").parent().addClass("vi-wcaio-disabled")}e.removeClass("vi-wcaio-sidebar-cart-content-wrap-checkout-navs");return false}if(a==="hide"&&e.hasClass("vi-wcaio-sidebar-cart-content-close")){p(true);return false}_(e);let r=c==="top_left"||c==="bottom_left"?"left":"right";if(a==="start"&&i){if(e.hasClass("vi-wcaio-sidebar-cart-content-close")){e.removeClass("vi-wcaio-sidebar-cart-content-open vi-wcaio-sidebar-cart-content-open-"+t+"-"+r);e.addClass("vi-wcaio-sidebar-cart-content-close vi-wcaio-sidebar-cart-content-close-"+i+"-"+r)}else{e.addClass("vi-wcaio-sidebar-cart-content-open vi-wcaio-sidebar-cart-content-open-"+i+"-"+r);e.removeClass("vi-wcaio-sidebar-cart-content-close vi-wcaio-sidebar-cart-content-close-"+t+"-"+r)}f(".vi-wcaio-sidebar-cart").data("effect",i);return false}i=i?i:t;let s=f(".vi-wcaio-sidebar-cart").data("old_position")||"";let n=s?s==="top_left"||s==="bottom_left"?"left":"right":r;let d="vi-wcaio-sidebar-cart-content-open vi-wcaio-sidebar-cart-content-open-"+i+"-"+r,w="vi-wcaio-sidebar-cart-content-close vi-wcaio-sidebar-cart-content-close-"+i+"-"+r,l="vi-wcaio-sidebar-cart-content-open vi-wcaio-sidebar-cart-content-open-"+t+"-"+n,v="vi-wcaio-sidebar-cart-content-close vi-wcaio-sidebar-cart-content-close-"+t+"-"+n+" vi-wcaio-sidebar-cart-content-close-"+t+"-"+r;if(e.hasClass("vi-wcaio-sidebar-cart-content-close")){e.addClass(d).removeClass(w).removeClass(v);f("html").addClass("vi-wcaio-html-non-scroll");f(".vi-wcaio-sidebar-cart-overlay").removeClass("vi-wcaio-disabled");e.removeClass("vi-wcaio-sidebar-cart-content-wrap-checkout-navs");e.find(".vi-wcaio-sidebar-cart-content-wrap1, .vi-wcaio-sidebar-cart-footer").addClass("vi-wcaio-disabled");e.find(".vi-wcaio-sidebar-cart-content-wrap1.vi-wcaio-sidebar-cart-"+o+"-wrap").removeClass("vi-wcaio-disabled");e.find(".vi-wcaio-sidebar-cart-footer.vi-wcaio-sidebar-cart-footer-"+o).removeClass("vi-wcaio-disabled");if(e.find(".vi-wcaio-sidebar-cart-footer-coupons").hasClass("vi-wcaio-disabled")){e.find(".vi-wcaio-sidebar-cart-footer-coupons").parent().addClass("vi-wcaio-disabled")}f(".vi-wcaio-sidebar-cart").data("effect",i);p()}else{e.addClass(w).removeClass(d).removeClass(l);f(".vi-wcaio-sidebar-cart-overlay").addClass("vi-wcaio-disabled");e.find(".vi-wcaio-sidebar-cart-content-wrap1.vi-wcaio-sidebar-cart-checkout-wrap").addClass("vi-wcaio-disabled");f("html").removeClass("vi-wcaio-html-non-scroll");p(true)}}function s(a,i=false,e=false){f(".vi-wcaio-sidebar-cart-loading-wrap").addClass("vi-wcaio-disabled");if(i){p(true,e);return false}else if(!a){t("hide");p();return false}a=f(a);if(a.length&&(a.data("empty_enable")||a.find(".vi-wcaio-sidebar-cart-pd-wrap").length)){if(a.find(".vi-wcaio-sidebar-cart-pd-wrap").length){f(".vi-wcaio-sidebar-cart-icon-wrap").removeClass("vi-wcaio-disabled")}return false}t("hide");f(".vi-wcaio-coupon-code").val("");p(true)}function p(a=false,i=false){if(a){if(!f(".vi-wcaio-sidebar-cart-wrap").data("cart_icon")||f(".vi-wcaio-sb-container-popup-show").length){return false}if(!i&&!f(".vi-wcaio-sidebar-cart-wrap").data("empty_enable")&&!f(".vi-wcaio-sidebar-cart-wrap").find(".vi-wcaio-sidebar-cart-pd-wrap").length){return false}f(".vi-wcaio-sidebar-cart-icon-wrap").removeClass("vi-wcaio-disabled vi-wcaio-sidebar-cart-icon-wrap-close vi-wcaio-sidebar-cart-icon-wrap-mouseenter vi-wcaio-sidebar-cart-icon-wrap-mouseleave");f(".vi-wcaio-sidebar-cart-icon-wrap").addClass("vi-wcaio-sidebar-cart-icon-wrap-open")}else{f(".vi-wcaio-sidebar-cart-icon-wrap").addClass("vi-wcaio-sidebar-cart-icon-wrap-close");f(".vi-wcaio-sidebar-cart-icon-wrap").removeClass("vi-wcaio-sidebar-cart-icon-wrap-open vi-wcaio-sidebar-cart-icon-wrap-mouseenter vi-wcaio-sidebar-cart-icon-wrap-mouseleave")}}function _(a){a=f(a);if(window.innerWidth<782){a.css({maxHeight:window.innerHeight})}}function n(a){a=f(a);let i=false;if(a.closest(".vi-wcaio-sidebar-cart-rtl").length){i=true}a.find("img").each(function(){f(this).attr("src",f(this).data("src"))});a.viwcaio_flexslider({namespace:"vi-wcaio-slider-",selector:".vi-wcaio-sidebar-cart-footer-pd-wrap .vi-wcaio-sidebar-cart-footer-pd",animation:"slide",animationLoop:1,itemWidth:145,itemMargin:10,controlNav:false,maxItems:1,reverse:i,rtl:i,move:1,touch:true,slideshow:false}).addClass("vi-wcaio-slider-init")}function o(a){f(".vi-wcaio-sidebar-cart-wrap").removeClass("vi-wcaio-sidebar-cart-wrap-warning");if(!f(".vi-wcaio-warning-wrap").length){f("body").append('<div class="vi-wcaio-warning-wrap vi-wcaio-warning-wrap-open"><div>'+a+"</div></div>")}else{f(".vi-wcaio-warning-wrap").removeClass("vi-wcaio-warning-wrap-close").addClass("vi-wcaio-warning-wrap-open");f(".vi-wcaio-warning-wrap > div").html(a)}setTimeout(function(){f(".vi-wcaio-sidebar-cart-wrap").addClass("vi-wcaio-sidebar-cart-wrap-warning")},1e3);setTimeout(function(){r()},4500)}function r(){f(".vi-wcaio-sidebar-cart-wrap").removeClass("vi-wcaio-sidebar-cart-wrap-warning");f(".vi-wcaio-warning-wrap").addClass("vi-wcaio-warning-wrap-close").removeClass("vi-wcaio-warning-wrap-open")}function u(a,i=null){let e;if(i===null){i=a.closest(".vi-wcaio-sb-wrap");if(!i.length){i=a.closest(".shortcode-wcpr-single-product-summary")}if(!i.length){i=a.closest(".wcpr-single-product-summary")}if(!i.length){i=a.closest(".tmb-woocommerce")}if(!i.length){i=a.closest(".product");if(i&&i.find(".elementor-inner").length){i=a.closest(".elementor-inner")}}if(!i.length){i=a.closest(".elementor-section")}if(!i.length){i=a.closest(".item-product")}if(!i.length){i=a.closest(".product-item")}if(!i.length){i=a.closest(".gdlr-core-item-list")}if(!i.length){i=a.closest(".product-warp-item")}if(!i.length){i=a.closest(".item-grid")}if(!i.length){i=a.closest("#food_modal")}if(!i.length){i=a.closest(".product__box")}if(!i.length){i=a.closest(".woo-entry-inner")}if(!i.length){i=a.closest(".elementor-element.productlisting")}}if(i.find(".vi-wcaio-sb-product-img").length){e=i.find(".vi-wcaio-sb-product-img").first()}else if(i.find(".dt-sc-product-image").length){e=i.find(".dt-sc-product-image.swiper-slide-active").length?i.find(".dt-sc-product-image.swiper-slide-active").first().find("img").first():i.find(".dt-sc-product-image").first().find("img").first()}else if(i.find(".elementor-widget-image").length){e=i.find(".elementor-widget-image").first().find("img").first()}else if(i.find(".swiper-slide-image").length){e=i.find(".swiper-slide-image").first()}else if(i.find(".wp-post-image").length){e=i.find(".wp-post-image").first()}else if(i.find(".attachment-shop_catalog").length){e=i.find(".attachment-shop_catalog").first()}else if(i.find(".gdlr-core-product-thumbnail").length){e=i.find(".gdlr-core-product-thumbnail").first()}else if(i.find(".woo-entry-image-main").length){e=i.find(".woo-entry-image-main").first()}else if(i.find(".wp-post-image.vi-load").length){e=i.find(".wp-post-image.vi-load").first()}else if(i.find(".attachment-woocommerce_thumbnail").length){e=i.find(".attachment-woocommerce_thumbnail").first()}if(!e){if(i.is(".elementor-section")){if(i.parent().is(".product")){i=i.parent()}else{return u(a,i.parent().closest(".elementor-section"))}}if(i&&i.find("img")){e=i.find("img").first()}else{e=false}}return e}window.viwcaio_sidebar_cart_is_refresh=c;window.vi_wcaio_sc_toggle=t;window.vi_wcaio_sc_icon_may_be_toggle=s;window.vi_wcaio_sc_icon_toggle=p;window.vi_wcaio_sc_flexslider=n;window.vi_wcaio_show_message=o;window.vi_wcaio_hide_message=r})(jQuery);